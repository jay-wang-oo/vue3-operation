{"version":3,"file":"js/274.d987c8e1.js","mappings":"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","sources":["webpack://vue3-operation/./src/views/UserProduct.vue","webpack://vue3-operation/./src/views/UserProduct.vue?c4ac"],"sourcesContent":["<template>\n  <LoadIng :active=\"isLoading\"></LoadIng>\n\n  <div class=\"container\">\n    <nav aria-label=\"breadcrumb\">\n      <ol class=\"breadcrumb\">\n        <li class=\"breadcrumb-item\"><router-link to=\"/user/cart\">購物車</router-link></li>\n        <li class=\"breadcrumb-item active\" aria-current=\"page\">{{ product.title }}</li>\n      </ol>\n    </nav>\n    <div class=\"row justify-content-center\">\n      <article class=\"col-8\">\n        <h2>{{ product.title }}</h2>\n        <div>{{ product.content }}</div>\n        <div>{{ product.description }}</div>\n        <img :src=\"product.imageUrl\" alt=\"\" class=\"img-fluid mb-3\">\n      </article>\n      <div class=\"col-4\">\n        <div class=\"h5\" v-if=\"!product.price\">{{ product.origin_price }} 元</div>\n        <del class=\"h6\" v-if=\"product.price\">原價 {{ product.origin_price }} 元</del>\n        <div class=\"h5\" v-if=\"product.price\">現在只要 {{ product.price }} 元</div>\n        <hr>\n        <button type=\"button\" class=\"btn btn-outline-danger\"\n          :disabled = \"this.status.loadingItem === product.id\"\n          @click=\"addToCart(product.id)\">\n          <div v-if=\"this.status.loadingItem === product.id\" class=\"spinner-grow text-danger spinner-border-sm\" role=\"status\">\n            <span class=\"visually-hidden\">Loading...</span>\n          </div>\n          加到購物車\n        </button>\n      </div>\n    </div>\n  </div>\n\n</template>\n\n<script>\nexport default {\n  data () {\n    return {\n      product: {},\n      id: '',\n      // 按鈕讀取效果:當 loadingItem有品項時，按鈕就會 disabled並加上讀取狀態\n      status: {\n        loadingItem: '' // 對應品項 id\n      },\n      isLoading: false\n    }\n  },\n  methods: {\n    // ======== 加入產品頁面 ========\n    getProduct () {\n      // 每次取資料前就會執行 Loading 打開\n      this.isLoading = true\n\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/product/${this.id}`\n\n      this.$http.get(api)\n        .then((response) => {\n          console.log(response.data)\n          // 讀取資料完就會執行 Loading 關閉\n          this.isLoading = false\n          if (response.data.success) {\n            this.product = response.data.product\n          }\n        })\n    },\n\n    // ======== 加入購物車 ========\n    addToCart (id, qty = 1) {\n      // 按鈕讀取效果\n      this.status.loadingItem = id\n\n      // [參數]: { \"data\": { \"product_id\":\"-L9tH8jxVb2Ka_DYPwng\",\"qty\":1 } }\n      // cart內會建立兩筆資料 product_id(String)(ID),qty(Number)(數量)\n      const cart = {\n        product_id: id,\n        qty\n      }\n\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\n      this.$http.post(api, { data: cart })\n        .then((response) => {\n          // 清空按鈕讀取效果\n          this.status.loadingItem = ''\n          // pushMessageState.js\n          this.$httpMessageState(response, '加入購物車')\n\n          this.$router.push('/user/cart')\n          console.log(response.data)\n          // console.log(response.data.message)\n          // console.log(response.data.data.qty)\n        })\n    }\n  },\n  created () {\n    // 取出 id\n    // this.$route.params.productId，從網址列取的 productId\n    this.id = this.$route.params.productId\n    console.log(this.id)\n    this.getProduct()\n  }\n}\n// API 起手式\n// const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}API路徑`\n// this.$http.輸出方式(api(API路徑), 資料)\n//   .then((res) => {\n//     console.log(res.data)\n//   })\n</script>\n","import { render } from \"./UserProduct.vue?vue&type=template&id=b153b830\"\nimport script from \"./UserProduct.vue?vue&type=script&lang=js\"\nexport * from \"./UserProduct.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/cloude/Desktop/vue3-operation/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","role","_hoisted_17","_createVNode","_component_LoadIng","active","$data","_component_router_link","to","_toDisplayString","title","content","description","src","imageUrl","alt","price","_createElementBlock","origin_price","_hoisted_14","type","disabled","status","loadingItem","id","onClick","$options","_hoisted_18","data","product","isLoading","methods","getProduct","this","api","$http","get","then","response","console","log","success","addToCart","qty","cart","product_id","post","$httpMessageState","$router","push","created","$route","params","productId","__exports__","render"],"sourceRoot":""}