{"version":3,"file":"js/497.ddece35a.js","mappings":"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","sources":["webpack://vue3-operation/./src/components/PaginAtion.vue","webpack://vue3-operation/./src/components/PaginAtion.vue?06fe","webpack://vue3-operation/./src/views/ProDucts.vue","webpack://vue3-operation/./src/components/ProductModal.vue","webpack://vue3-operation/./src/components/ProductModal.vue?b0ff","webpack://vue3-operation/./src/views/ProDucts.vue?1f2e"],"sourcesContent":["<template>\n  <nav aria-label=\"Page navigation example\">\n    <ul class=\"pagination justify-content-center\">\n\n      <li class=\"page-item\">\n        <a class=\"page-link\" href=\"#\" aria-label=\"Previous\" @click.prevent=\"updatePagePrevious\">\n          <span aria-hidden=\"true\">&laquo;</span>\n        </a>\n      </li>\n\n      <!-- 用 v-for把頁面全部帶出來 -->\n      <li class=\"page-item\"\n      v-for=\"page in pages.total_pages\" :key=\"page\"\n      :class=\"{ 'active': page === pages.current_page }\"\n      >\n        <!-- (page)把頁碼帶到下方 (page) -->\n        <!-- @click.prevent=\"updatePage(page)補上頁碼 -->\n        <a class=\"page-link\" href=\"#\" @click.prevent=\"updatePage(page)\">\n          {{ page }}\n        </a>\n      </li>\n\n      <li class=\"page-item\">\n        <a class=\"page-link\" href=\"#\" aria-label=\"Next\" @click.prevent=\"updatePageNext\">\n          <span aria-hidden=\"true\">&raquo;</span>\n        </a>\n      </li>\n\n    </ul>\n  </nav>\n</template>\n\n<script>\n// :pages=\"{ 頁碼資訊 }\"\n// @emitPages=\"更新頁面事件\"\nexport default {\n  props: ['pages'],\n  methods: {\n    updatePage (page) {\n      // emit-pages:切換頁面事件名稱（往外送），觸發外層事件 ProDucts > @emit-pages\n      this.$emit('emit-pages', page)\n    },\n    // 下一頁\n    updatePageNext () {\n      console.log(this.pages.current_page)\n      // page = this.pages.current_page++\n      // this.$emit('emit-pages', page)\n    },\n    // 上一頁\n    updatePagePrevious () {\n      if (this.pages.current_page > 1) {\n        // page = this.pages.current_page--\n        // this.$emit('emit-pages', page)\n      }\n    }\n  }\n}\n</script>\n","import { render } from \"./PaginAtion.vue?vue&type=template&id=42096896\"\nimport script from \"./PaginAtion.vue?vue&type=script&lang=js\"\nexport * from \"./PaginAtion.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/cloude/Desktop/vue3-operation/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <LoadIng :active=\"isLoading\"></LoadIng>\n\n  <div class=\"text-end mt-3\">\n    <!-- $refs.productModal 指向定義元件(productModal)，呼叫它裡面的方法 -->\n    <!-- $refs.productModal.showModal() -->\n    <button class=\"btn btn-primary\" type=\"button\"\n    @click=\"openModal(true)\"\n    >\n      增加一個產品\n    </button>\n  </div>\n\n  <table class=\"table mt-4\">\n    <thead>\n      <tr>\n        <th width=\"120\">分類</th>\n        <th>產品名稱</th>\n        <th width=\"120\">原價</th>\n        <th width=\"120\">售價</th>\n        <th width=\"100\">是否啟用</th>\n        <th width=\"200\">編輯</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr v-for=\"item in products\" :key=\"item.id\">\n        <td>{{ item.category}}</td>\n        <td>{{ item.title }}</td>\n        <td class=\"text-right\">{{ $filters.currency(item.origin_price) }}</td>\n        <!-- currency(item.origin_price) -->\n        <td class=\"text-right\">{{ $filters.currency(item.price) }}</td>\n        <!-- currency(item.price) -->\n        <td>\n          <span class=\"text-success\" v-if=\"item.is_enabled\">啟用</span>\n          <span class=\"text-muted\" v-else>未啟用</span>\n        </td>\n        <td>\n          <div class=\"btn-group\">\n            <!-- item從 v-for,item 帶過來 -->\n            <button class=\"btn btn-outline-primary btn-sm\"\n            @click=\"openModal(false, item)\"\n            >編輯</button>\n            <button class=\"btn btn-outline-danger btn-sm\"\n            @click=\"openDelProductModal(item)\"\n            >刪除</button>\n          </div>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n\n  <!-- Model -->\n  <!-- 前內(內層:product)後外(外層:tempProduct) -->\n  <!-- tempProduct(外層) >>(props傳送) :product=\"tempProduct\" >>(接收) product(內層) -->\n  <!-- 接收(前內後外) : update-product(前:內層元件) >> updateProduct(外:接收函式) -->\n  <ProductModal\n  ref=\"productModal\"\n  :product=\"tempProduct\"\n  @update-product=\"updateProduct\"\n  ></ProductModal>\n\n  <!-- 分頁 -->\n  <!-- emit-pages:內層事件名稱，觸發 getProducts事件 -->\n  <Pagination :pages=\"pagination\"\n  @emit-pages=\"getProducts\"\n  ></Pagination>\n\n  <!-- del -->\n  <DelModal :item=\"tempProduct\" ref=\"delModal\" @del-item=\"delProduct\"></DelModal>\n</template>\n\n<script>\n// 分頁\nimport Pagination from '@/components/PaginAtion.vue'\n// Model\n// import ProductModal from '../components/ProductModal.vue'\nimport ProductModal from '@/components/ProductModal.vue'\n// del\nimport DelModal from '@/components/DelModal.vue'\n// import { currency } from '../methods/filters'\n\nexport default {\n  data () {\n    return {\n      // 產品資訊\n      products: [],\n      // 產品暫存\n      tempProduct: {},\n      // 分頁資訊\n      pagination: {},\n      // 判斷是否是新增項目\n      isNew: false,\n      isLoading: false\n    }\n  },\n\n  components: {\n    // 區域註冊，把 ProductModal載入進來\n    ProductModal,\n    Pagination,\n    DelModal\n  },\n\n  // 使用 inject就不用一直載入套件(No import 套件)\n  inject: ['emitter'],\n\n  methods: {\n\n    // 千分號\n    // currency,\n\n    // 產品資訊(+s，複數形式呈現)\n    getProducts (page = 1) {\n      // 每次取資料前就會執行 Loading 打開\n      this.isLoading = true\n\n      // 以下為取的遠端資訊的路徑 /api/:api_path/admin/products?page=:page\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/products/?page=${page}`\n      // API 是用 get傳輸，因不需要資料，可以拿掉 this.user\n      this.$http.get(api)\n        .then((res) => {\n          // 讀取資料完就會執行 Loading 關閉\n          this.isLoading = false\n\n          // 取的遠端資料\n          if (res.data.success) {\n            console.log(res.data)\n            this.products = res.data.products\n            this.pagination = res.data.pagination\n          }\n        })\n    },\n\n    // ======== Modal ========\n\n    // isNew:新增項目 item:編輯項目\n    openModal (isNew, item) {\n      if (isNew) {\n        this.tempProduct = {}\n      } else {\n        this.tempProduct = { ...item }\n      }\n      this.isNew = isNew\n\n      // 清空 tempProduct\n      // this.tempProduct = {}\n\n      // 打開內層的 modal\n      const productComponent = this.$refs.productModal\n      productComponent.showModal()\n    },\n\n    // 外層所傳送的資料先儲存(item)，並且發送到遠端(this.tempProduct, this.$http.post)\n    updateProduct (item) {\n      // console.log(item)\n      this.tempProduct = item\n\n      // 新增-預設形式(改用 let來宣告 api+http方法)\n      let api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product`\n      let httpMethod = 'post'\n\n      // 編輯(不是新增品項，就調整 api+http方法)\n      if (!this.isNew) {\n        api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${item.id}`\n        httpMethod = 'put'\n      }\n      const productComponent = this.$refs.productModal\n      this.$http[httpMethod](api, { data: this.tempProduct })\n        .then((response) => {\n          console.log(response)\n\n          // 關閉內層的 modal\n          productComponent.hideModal()\n\n          // 重新取的列表資料\n          this.getProducts()\n\n          // == toast(土司)元件:判斷成功或失敗，在來推送不同的訊息內容(2選1)\n          // pushMessageState.js\n          this.$httpMessageState(response, '更新產品資料')\n\n          // == toast(土司)元件:判斷成功或失敗，在來推送不同的訊息內容(2選1)\n          // if (response.data.success) {\n          //   // 重新取的列表資料\n          //   this.getProducts()\n          //   // 成功觸發，push-message事件 > ToastMessages.vue > push-message元件\n          //   this.emitter.emit('push-message', {\n          //     style: 'success',\n          //     title: '更新成功'\n          //   })\n          // } else {\n          //   this.emitter.emit('push-message', {\n          //     style: 'danger',\n          //     title: '更新失敗',\n          //     // 失敗的訊息內容(後端傳輸)\n          //     content: response.data.message.join('、')\n          //   })\n          // }\n        })\n    },\n\n    // ======== 刪除 Modal ========\n    openDelProductModal (item) {\n      this.tempProduct = { ...item }\n      const delComponent = this.$refs.delModal\n      delComponent.showModal()\n    },\n    delProduct () {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${this.tempProduct.id}`\n      this.$http.delete(url).then((response) => {\n        console.log(response.data)\n        const delComponent = this.$refs.delModal\n        delComponent.hideModal()\n        this.getProducts()\n      })\n    }\n\n  },\n\n  // getProducts 因還無法觸發所以加入生命週期來觸發\n  created () {\n    this.getProducts()\n  }\n}\n// API 起手式\n// const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}API路徑`\n// this.$http.post(api(API路徑), 資料)\n//   .then((res) => {\n//     if (res.data.success) {\n//       console.log(res.data)\n//     }\n//   })\n</script>\n","<template>\n  <!-- Modal -->\n  <!-- 透過 ref方式來存取DOM元素 -->\n  <div class=\"modal fade\" id=\"exampleModal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\"\n  ref=\"modal\"\n  >\n\n    <div class=\"modal-dialog modal-xl\" role=\"document\">\n      <div class=\"modal-content border-0\">\n\n        <div class=\"modal-header bg-dark text-white\">\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">\n            <span>新增產品</span>\n          </h5>\n          <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n        </div>\n\n        <!-- modal-body -->\n        <div class=\"modal-body\">\n\n          <div class=\"row\">\n            <div class=\"col-sm-4\">\n              <div class=\"mb-3\">\n                <label for=\"image\" class=\"form-label\">輸入圖片網址</label>\n                <input type=\"text\" class=\"form-control\" id=\"image\" placeholder=\"請輸入圖片連結\"\n                v-model=\"tempProduct.imageUrl\"\n                >\n              </div>\n              <div class=\"mb-3\">\n                <label for=\"customFile\" class=\"form-label\">或 上傳圖片\n                  <i class=\"fas fa-spinner fa-spin\"></i>\n                </label>\n                <!-- change:input有輸入內容就會觸發 -->\n                <input type=\"file\" id=\"customFile\" class=\"form-control\"\n                ref=\"fileInput\"\n                @change=\"uploadFile\"\n                >\n              </div>\n              <img class=\"img-fluid\" alt=\"\">\n              <!-- 延伸技巧，多圖 -->\n              <div class=\"mt-5\"\n              v-if=\"tempProduct.images\"\n              >\n                <div class=\"mb-3 input-group\"\n                v-for=\"(image, key) in tempProduct.images\" :key=\"key\"\n                >\n                  <input type=\"url\" class=\"form-control form-control\" placeholder=\"請輸入連結\"\n                  v-model=\"tempProduct.images[key]\"\n                  >\n                  <button type=\"button\" class=\"btn btn-outline-danger\"\n                  @click=\"tempProduct.images.splice(key, 1)\"\n                  >\n                    移除\n                  </button>\n                </div>\n                <div v-if=\"tempProduct.images[tempProduct.images.length - 1] || !tempProduct.images.length\">\n                  <button class=\"btn btn-outline-primary btn-sm d-block w-100\"\n                  @click=\"tempProduct.images.push('')\"\n                  >\n                    新增圖片\n                  </button>\n                </div>\n              </div>\n            </div>\n            <div class=\"col-sm-8\">\n              <div class=\"mb-3\">\n                <label for=\"title\" class=\"form-label\">標題</label>\n                <input type=\"text\" class=\"form-control\" id=\"title\" placeholder=\"請輸入標題\"\n                v-model=\"tempProduct.title\"\n                >\n              </div>\n\n              <div class=\"row gx-2\">\n                <div class=\"mb-3 col-md-6\">\n                  <label for=\"category\" class=\"form-label\">分類</label>\n                  <input type=\"text\" class=\"form-control\" id=\"category\" placeholder=\"請輸入分類\"\n                  v-model=\"tempProduct.category\"\n                  >\n                </div>\n                <div class=\"mb-3 col-md-6\">\n                  <label for=\"price\" class=\"form-label\">單位</label>\n                  <input type=\"text\" class=\"form-control\" id=\"unit\" placeholder=\"請輸入單位\"\n                  v-model=\"tempProduct.unit\"\n                  >\n                </div>\n              </div>\n\n              <div class=\"row gx-2\">\n                <div class=\"mb-3 col-md-6\">\n                  <label for=\"origin_price\" class=\"form-label\">原價</label>\n                  <input type=\"number\" class=\"form-control\" id=\"origin_price\" placeholder=\"請輸入原價\"\n                  v-model.number=\"tempProduct.origin_price\"\n                  >\n                </div>\n                <div class=\"mb-3 col-md-6\">\n                  <label for=\"price\" class=\"form-label\">售價</label>\n                  <input type=\"number\" class=\"form-control\" id=\"price\" placeholder=\"請輸入售價\"\n                  v-model.number=\"tempProduct.price\"\n                  >\n                </div>\n              </div>\n              <hr>\n\n              <div class=\"mb-3\">\n                <label for=\"description\" class=\"form-label\">產品描述</label>\n                <textarea type=\"text\" class=\"form-control\" id=\"description\" placeholder=\"請輸入產品描述\"\n                v-model=\"tempProduct.description\"\n                ></textarea>\n              </div>\n              <div class=\"mb-3\">\n                <label for=\"content\" class=\"form-label\">說明內容</label>\n                <textarea type=\"text\" class=\"form-control\" id=\"content\" placeholder=\"請輸入產品說明內容\"\n                v-model=\"tempProduct.content\"\n                ></textarea>\n              </div>\n              <div class=\"mb-3\">\n                <div class=\"form-check\">\n                  <input type=\"checkbox\" class=\"form-check-input\" id=\"is_enabled\"\n                    :true-value=\"1\"\n                    :false-value=\"0\"\n                    v-model=\"tempProduct.is_enabled\"\n                    >\n                  <label class=\"form-check-label\" for=\"is_enabled\">\n                    是否啟用\n                  </label>\n                </div>\n              </div>\n            </div>\n          </div>\n\n        </div>\n        <!-- modal-body -->\n\n        <!-- modal-footer -->\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-outline-secondary\" data-bs-dismiss=\"modal\">\n            取消\n          </button>\n          <!-- emit觸發外層事件 update-product名稱，觸發 updateProduct外層函式，會把 tempProduct(內層)的資料內容透過參數方式傳到 item(外層)裡面 -->\n          <button type=\"button\" class=\"btn btn-primary\"\n          @click=\"$emit('update-product', tempProduct)\"\n          >確認</button>\n        </div>\n        <!-- modal-footer -->\n\n      </div>\n    </div>\n\n  </div>\n</template>\n\n<script>\n// import Modal from 'bootstrap/js/dist/modal.js'\nimport modalMixin from '@/mixins/modalMixin'\n\nexport default {\n  // ======== 內層 ========\n  props: {\n    // 內層 product名稱來接收資料\n    product: {\n      type: Object,\n      // 外層沒有正確傳遞就回傳一個空物件\n      default () { return {} }\n    }\n  },\n  // 因傳送的資料不同所以需要監聽 product內容有沒有更動\n  // 每次開啟 Modal，都會重新去更新 product內容\n  // 當資料往內層送就會觸發 watch > product，把資料寫到 tempProduct(因為單向數據流，不可以直接修改外層資料，所以會內層定義一個 tempProduct資料儲存)\n  watch: {\n    product () {\n      this.tempProduct = this.product\n      // 多圖範例\n      if (!this.tempProduct.images) {\n        this.tempProduct.images = []\n      }\n    }\n  },\n  // 實體的內容回傳出來\n  data () {\n    return {\n      modal: {},\n      tempProduct: {}\n    }\n  },\n  methods: {\n    // showModal () {\n    //   this.modal.show()\n    // },\n    // hideModal () {\n    //   this.modal.hide()\n    // },\n\n    // ======== 上傳圖片 ========\n    uploadFile () {\n      // uploadedFile:上傳的檔案取出來\n      const uploadedFile = this.$refs.fileInput.files[0]\n      // console.log(uploadedFile)\n      // 轉換格式(form-data)\n      const formData = new FormData()\n      // input name >> file-to-upload(API上傳對應的欄位-name屬性)\n      formData.append('file-to-upload', uploadedFile)\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/upload`\n      this.$http.post(url, formData)\n        .then((response) => {\n          console.log(response.data)\n          if (response.data.success) {\n            this.tempProduct.imageUrl = response.data.imageUrl\n          }\n        })\n    }\n\n  },\n\n  // 元件(Modal)在實體載入的過程之後呈現\n  // mounted () {\n  //   // this.modal 為 data內的 modal: {} === 會指向外層的modal(ref=\"modal\")\n  //   this.modal = new Modal(this.$refs.modal)\n  // }\n\n  mixins: [modalMixin]\n}\n</script>\n","import { render } from \"./ProductModal.vue?vue&type=template&id=4c5f9f2d\"\nimport script from \"./ProductModal.vue?vue&type=script&lang=js\"\nexport * from \"./ProductModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/cloude/Desktop/vue3-operation/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ProDucts.vue?vue&type=template&id=7712cee7\"\nimport script from \"./ProDucts.vue?vue&type=script&lang=js\"\nexport * from \"./ProDucts.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/cloude/Desktop/vue3-operation/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_4","_hoisted_8","_createElementBlock","href","onClick","$options","_Fragment","_renderList","$props","total_pages","page","current_page","key","_hoisted_6","props","methods","updatePage","this","$emit","updatePageNext","console","log","pages","updatePagePrevious","__exports__","render","width","_createVNode","_component_LoadIng","active","$data","type","_hoisted_3","item","id","_toDisplayString","category","title","_ctx","currency","origin_price","price","is_enabled","_hoisted_9","_hoisted_10","_component_ProductModal","ref","product","onUpdateProduct","_component_Pagination","onEmitPages","_component_DelModal","onDelItem","tabindex","role","for","alt","placeholder","imageUrl","$event","_hoisted_11","onChange","_hoisted_12","images","image","splice","_hoisted_15","length","_hoisted_16","push","_hoisted_19","_hoisted_22","_hoisted_24","unit","_hoisted_27","_hoisted_29","_hoisted_30","_hoisted_32","description","_hoisted_34","content","_hoisted_37","_hoisted_39","Object","default","watch","tempProduct","data","modal","uploadFile","uploadedFile","$refs","fileInput","files","formData","FormData","append","url","$http","post","then","response","success","mixins","modalMixin","products","pagination","isNew","isLoading","components","ProductModal","Pagination","DelModal","inject","getProducts","api","get","res","openModal","productComponent","productModal","showModal","updateProduct","httpMethod","hideModal","$httpMessageState","openDelProductModal","delComponent","delModal","delProduct","delete","created"],"sourceRoot":""}