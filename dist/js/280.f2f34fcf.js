"use strict";(self["webpackChunkvue3_operation"]=self["webpackChunkvue3_operation"]||[]).push([[280],{3280:function(t,i,s){s.r(i),s.d(i,{default:function(){return C}});var a=s(3396),e=s(7139);const r={class:"container"},c={"aria-label":"breadcrumb"},o={class:"breadcrumb"},d={class:"breadcrumb-item"},u=(0,a.Uk)("購物車"),n={class:"breadcrumb-item active","aria-current":"page"},l={class:"row justify-content-center"},p={class:"col-8"},h=["src"],g={class:"col-4"},_={key:0,class:"h5"},m={key:1,class:"h6"},v={key:2,class:"h5"},b=(0,a._)("hr",null,null,-1),w=["disabled"],k={key:0,class:"spinner-grow text-danger spinner-border-sm",role:"status"},y=(0,a._)("span",{class:"visually-hidden"},"Loading...",-1),f=[y],z=(0,a.Uk)(" 加到購物車 ");function I(t,i,s,y,I,L){const $=(0,a.up)("Loading"),q=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)($,{active:I.isLoading},null,8,["active"]),(0,a._)("div",r,[(0,a._)("nav",c,[(0,a._)("ol",o,[(0,a._)("li",d,[(0,a.Wm)(q,{to:"/user/cart"},{default:(0,a.w5)((()=>[u])),_:1})]),(0,a._)("li",n,(0,e.zw)(I.product.title),1)])]),(0,a._)("div",l,[(0,a._)("article",p,[(0,a._)("h2",null,(0,e.zw)(I.product.title),1),(0,a._)("div",null,(0,e.zw)(I.product.content),1),(0,a._)("div",null,(0,e.zw)(I.product.description),1),(0,a._)("img",{src:I.product.imageUrl,alt:"",class:"img-fluid mb-3"},null,8,h)]),(0,a._)("div",g,[I.product.price?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",_,(0,e.zw)(I.product.origin_price)+" 元",1)),I.product.price?((0,a.wg)(),(0,a.iD)("del",m,"原價 "+(0,e.zw)(I.product.origin_price)+" 元",1)):(0,a.kq)("",!0),I.product.price?((0,a.wg)(),(0,a.iD)("div",v,"現在只要 "+(0,e.zw)(I.product.price)+" 元",1)):(0,a.kq)("",!0),b,(0,a._)("button",{type:"button",class:"btn btn-outline-danger",disabled:this.status.loadingItem===I.product.id,onClick:i[0]||(i[0]=t=>L.addToCart(I.product.id))},[this.status.loadingItem===I.product.id?((0,a.wg)(),(0,a.iD)("div",k,f)):(0,a.kq)("",!0),z],8,w)])])])],64)}var L={data(){return{product:{},id:"",status:{loadingItem:""},isLoading:!1}},methods:{getProduct(){this.isLoading=!0;const t=`https://vue3-course-api.hexschool.io/api/jay-api/product/${this.id}`;this.$http.get(t).then((t=>{console.log(t.data),this.isLoading=!1,t.data.success&&(this.product=t.data.product)}))},addToCart(t,i=1){const s="https://vue3-course-api.hexschool.io/api/jay-api/cart";this.status.loadingItem=t;const a={product_id:t,qty:i};this.$http.post(s,{data:a}).then((t=>{this.$httpMessageState(t,"加入購物車"),this.status.loadingItem="",this.$router.push("/user/cart"),console.log(t.data)}))}},created(){this.id=this.$route.params.productId,this.getProduct()}},$=s(89);const q=(0,$.Z)(L,[["render",I]]);var C=q}}]);
//# sourceMappingURL=280.f2f34fcf.js.map