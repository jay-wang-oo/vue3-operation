"use strict";(self["webpackChunkvue3_operation"]=self["webpackChunkvue3_operation"]||[]).push([[343],{5653:function(t,a,s){s.d(a,{Z:function(){return m}});var o=s(3396),e=s.p+"img/foot_img.f5238a72.png";const n={class:"footer_bar"},i={class:"community"},l={href:""},u={href:""},r={href:""},c=(0,o._)("div",{class:"copyright"},"此為練習作品，無商業行為 © 2021 SurferMan, All Rights Reserved",-1),d=(0,o._)("img",{src:e,alt:""},null,-1);function p(t,a){const s=(0,o.up)("font-awesome-icon");return(0,o.wg)(),(0,o.iD)("footer",null,[(0,o._)("div",n,[(0,o._)("div",i,[(0,o._)("ul",null,[(0,o._)("li",null,[(0,o._)("a",l,[(0,o.Wm)(s,{icon:"fa-brands fa-facebook-square"})])]),(0,o._)("li",null,[(0,o._)("a",u,[(0,o.Wm)(s,{icon:"fa-brands fa-instagram-square"})])]),(0,o._)("li",null,[(0,o._)("a",r,[(0,o.Wm)(s,{icon:"fa-brands fa-line"})])])])]),c]),d])}var h=s(89);const g={},_=(0,h.Z)(g,[["render",p]]);var m=_},7676:function(t,a,s){s.d(a,{Z:function(){return y}});var o=s(3396);const e={class:"webNav"},n=(0,o.Uk)("Surfer Man"),i={class:"cruiseNav"},l=(0,o._)("span",null,"回首頁",-1),u=(0,o.Uk)("我們就是衝浪客"),r=(0,o._)("span",null,"關於我們",-1),c=(0,o.Uk)("衝浪客的浪漫"),d=(0,o._)("span",null,"衝浪板店鋪",-1),p=(0,o.Uk)("衝浪客的神奇武器"),h={class:"car"},g=(0,o._)("span",null,"購物車",-1),_=(0,o.Uk)("我的購物記錄");function m(t,a){const s=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("div",e,[(0,o.Wm)(s,{class:"logo",to:"/"},{default:(0,o.w5)((()=>[n])),_:1}),(0,o._)("nav",i,[(0,o._)("ul",null,[(0,o._)("li",null,[(0,o.Wm)(s,{to:"/"},{default:(0,o.w5)((()=>[l,u])),_:1})]),(0,o._)("li",null,[(0,o.Wm)(s,{to:"/boardAbout"},{default:(0,o.w5)((()=>[r,c])),_:1})]),(0,o._)("li",null,[(0,o.Wm)(s,{to:"/boardProducts"},{default:(0,o.w5)((()=>[d,p])),_:1})])]),(0,o._)("div",h,[(0,o.Wm)(s,{to:"/boardCar"},{default:(0,o.w5)((()=>[g,_])),_:1})])])])}var f=s(89);const v={},b=(0,f.Z)(v,[["render",m]]);var y=b},2716:function(t,a,s){s.r(a),s.d(a,{default:function(){return j}});var o=s(3396),e=s(7139),n=s(9242),i=s(3275);const l=(0,o._)("div",{class:"big_img"},[(0,o._)("img",{src:i,alt:""})],-1),u={class:"table align-middle",style:{width:"700px",margin:"40px auto"}},r=(0,o._)("thead",null,[(0,o._)("tr",null,[(0,o._)("th"),(0,o._)("th",null,"品名"),(0,o._)("th",{style:{width:"110px"}},"數量"),(0,o._)("th",null,"單價")])],-1),c=["disabled","onClick"],d=(0,o._)("i",{class:"bi bi-x"},null,-1),p=[d],h={key:0,class:"text-success"},g={class:"input-group input-group-sm"},_=["disabled","onChange","onUpdate:modelValue"],m={class:"input-group-text"},f={class:"text-end"},v={key:0,class:"text-success"},b=(0,o._)("td",{colspan:"3",class:"text-end"},"總計",-1),y={class:"text-end"},w={key:0},k=(0,o._)("td",{colspan:"3",class:"text-end text-success"},"折扣價",-1),x={class:"text-end text-success"},C={class:"input-group mb-3 input-group-sm",style:{width:"700px",margin:"40px auto"}},$={class:"input-group-append"};function I(t,a,s,i,d,I){const L=(0,o.up)("LoadIng"),q=(0,o.up)("NavBar"),W=(0,o.up)("Footer");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(L,{active:d.isLoading},null,8,["active"]),(0,o.Wm)(q),l,(0,o._)("table",u,[r,(0,o._)("tbody",null,[d.cart.carts?((0,o.wg)(!0),(0,o.iD)(o.HY,{key:0},(0,o.Ko)(d.cart.carts,(a=>((0,o.wg)(),(0,o.iD)("tr",{key:a.id},[(0,o._)("td",null,[(0,o._)("button",{type:"button",class:"btn btn-outline-danger btn-sm",disabled:d.status.loadingItem===a.id,onClick:t=>I.removeCartItem(a.id)},p,8,c)]),(0,o._)("td",null,[(0,o.Uk)((0,e.zw)(a.product.title)+" ",1),a.coupon?((0,o.wg)(),(0,o.iD)("div",h," 已套用優惠券 ")):(0,o.kq)("",!0)]),(0,o._)("td",null,[(0,o._)("div",g,[(0,o.wy)((0,o._)("input",{type:"number",class:"form-control",min:"1",disabled:d.status.loadingItem===a.id,onChange:t=>I.updateCart(a),"onUpdate:modelValue":t=>a.qty=t},null,40,_),[[n.nr,a.qty,void 0,{number:!0}]]),(0,o._)("div",m,"/ "+(0,e.zw)(a.product.unit),1)])]),(0,o._)("td",f,[d.cart.final_total!==d.cart.total?((0,o.wg)(),(0,o.iD)("small",v,"折扣價：")):(0,o.kq)("",!0),(0,o.Uk)(" "+(0,e.zw)(t.$filters.currency(a.final_total)),1)])])))),128)):(0,o.kq)("",!0)]),(0,o._)("tfoot",null,[(0,o._)("tr",null,[b,(0,o._)("td",y,(0,e.zw)(t.$filters.currency(d.cart.total)),1)]),d.cart.final_total!==d.cart.total?((0,o.wg)(),(0,o.iD)("tr",w,[k,(0,o._)("td",x,(0,e.zw)(t.$filters.currency(d.cart.final_total)),1)])):(0,o.kq)("",!0)])]),(0,o._)("div",C,[(0,o.wy)((0,o._)("input",{type:"text",class:"form-control","onUpdate:modelValue":a[0]||(a[0]=t=>d.coupon_code=t),placeholder:"請輸入優惠碼"},null,512),[[n.nr,d.coupon_code]]),(0,o._)("div",$,[(0,o._)("button",{class:"btn btn-outline-secondary",type:"button",onClick:a[1]||(a[1]=(...t)=>I.addCouponCode&&I.addCouponCode(...t))}," 套用優惠碼 ")])]),(0,o.Wm)(W)],64)}var L=s(7676),q=s(5653),W={components:{NavBar:L.Z,Footer:q.Z},data(){return{products:[],product:{},cart:{},coupon_code:"",status:{loadingItem:""},isLoading:!1}},methods:{getProducts(){this.isLoading=!0;const t="https://vue3-course-api.hexschool.io/api/jay-api/products/all";this.$http.get(t).then((t=>{this.isLoading=!1,this.products=t.data.products,console.log("products:",t)}))},getProduct(t){this.$router.push(`/user/product/${t}`)},addCart(t){this.status.loadingItem=t;const a={product_id:t,qty:1},s="https://vue3-course-api.hexschool.io/api/jay-api/cart";this.$http.post(s,{data:a}).then((t=>{this.status.loadingItem="",this.$httpMessageState(t,"加入購物車"),console.log(t),this.getCart()}))},getCart(){this.isLoading=!0;const t="https://vue3-course-api.hexschool.io/api/jay-api/cart";this.$http.get(t).then((t=>{this.isLoading=!1,this.cart=t.data.data,console.log(t)}))},updateCart(t){this.isLoading=!0,this.status.loadingItem=t.id;const a={product_id:t.product_id,qty:t.qty},s=`https://vue3-course-api.hexschool.io/api/jay-api/cart/${t.id}`;this.$http.put(s,{data:a}).then((t=>{this.isLoading=!1,this.status.loadingItem="",console.log(t),this.getCart()}))},removeCartItem(t){this.isLoading=!0,this.status.loadingItem=t;const a=`https://vue3-course-api.hexschool.io/api/jay-api/cart/${t}`;this.$http.delete(a).then((t=>{this.isLoading=!1,this.status.loadingItem="",this.$httpMessageState(t,"移除購物車品項"),this.getCart()}))},addCouponCode(){this.isLoading=!1;const t={code:this.coupon_code},a="https://vue3-course-api.hexschool.io/api/jay-api/coupon";this.$http.post(a,{data:t}).then((t=>{this.isLoading=!1,this.$httpMessageState(t,"加入優惠券"),this.getCart()}))}},created(){this.getProducts()}},U=s(89);const D=(0,U.Z)(W,[["render",I]]);var j=D},3275:function(t,a,s){t.exports=s.p+"img/product_backImg.06d5695f.jpg"}}]);
//# sourceMappingURL=343.3da8af01.js.map